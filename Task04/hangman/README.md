# Task04 - Игра "Виселица"

## Описание проекта
Программа для консольной игры "Виселица".

### Правила игры

Компьютер загадывает слово из 6 букв (английский алфавит).
Игрок должен угадать слово, по одной вводя буквы с клавиатуры.

После каждой попытки программа:
* открывает все позиции угаданной буквы в слове;
* если буквы нет в слове — увеличивает количество ошибок и дорисовывает часть человечка на виселице;
* показывает текущее состояние виселицы, слова и список уже использованных букв.

Игрок выигрывает, если успевает открыть все буквы слова до того, как будет полностью дорисован человечек.
Если количество ошибок превышает допустимое (6), игрок проигрывает.

#### Сохраняемая информация

Информация о каждой игре сохраняется в базе данных SQLite:
* дата и время игры;
* имя игрока;
* загаданное слово;
* исход игры (угадал / не угадал);
* список всех попыток:
  * номер хода;
  * введённая буква;
  * результат (угадал букву / не угадал).

##### Режимы работы программы

Программа поддерживает несколько режимов работы:

1. **Новая игра**  
   Запускает новую партию "Виселицы":  
   * спрашивает имя игрока;  
   * выбирает случайное слово из базы;  
   * запускает игровой цикл до победы или поражения;  
   * сохраняет результаты партии и все ходы в базе данных.

2. **Список сохранённых игр**  
   Выводит список всех сыгранных партий:
   * ID игры;
   * дату и время;
   * имя игрока;
   * загаданное слово;
   * результат (угадал / не угадал).

3. **Повтор сохранённой партии**  
   Позволяет просмотреть ход любой сохранённой игры по её ID:
   * пошаговая визуализация виселицы;
   * отображение текущего состояния угадываемого слова;
   * вывод используемых букв и результата каждого хода.

4. **Интерактивное меню (по умолчанию)**  
   При запуске без параметров программа открывает консольное меню:

   1. Новая игра  
   2. Список сохранённых игр  
   3. Повтор сохранённой игры  
   0. Выход  

Также поддерживаются ключи командной строки (без меню):

* `php bin/hangman.php --new` или `php bin/hangman.php -n` — новая игра  
* `php bin/hangman.php --list` или `php bin/hangman.php -l` — список игр  
* `php bin/hangman.php --replay ID` или `php bin/hangman.php -r ID` — повтор игры с указанным ID  
* `php bin/hangman.php --help` или `php bin/hangman.php -h` — справка по режимам

###### Требования для запуска проекта

* PHP >= 8.1 (CLI-режим)
* Composer (глобально установленный)
* SQLite (расширение `pdo_sqlite` для работы с базой данных)

###### Установка и запуск

## 1. Клонировать репозиторий:
`git clone https://github.com/SakatoGin/Hangman.git`  
`cd Hangman`

(адрес репозитория можно заменить на актуальный для вашей копии проекта)

## 2. Установка зависимостей:
`composer install`

## 3. Сгенерировать автозагрузку:
`composer dump-autoload -o`

## 4. Запуск проекта:

Интерактивное меню:
`php bin/hangman.php`

Примеры запуска конкретных режимов:
* Новая игра: `php bin/hangman.php --new`
* Список игр: `php bin/hangman.php --list`
* Повтор игры с ID = 3: `php bin/hangman.php --replay 3`

## Структура проекта
Task04/  
 └─ hangman/  
 &nbsp;&nbsp;&nbsp;&nbsp;├─ bin/  
 &nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;└─ hangman.php         # Запускной скрипт игры  
 &nbsp;&nbsp;&nbsp;&nbsp;├─ src/  
 &nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;├─ Game.php            # Логика игры и работа с БД (модель)  
 &nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;├─ Controller.php      # Управление режимами, игровой процесс  
 &nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;└─ View.php            # Отображение и взаимодействие с пользователем (консоль)  
 &nbsp;&nbsp;&nbsp;&nbsp;├─ vendor/  
 &nbsp;&nbsp;&nbsp;&nbsp;│&nbsp;&nbsp;└─ ...                  # Зависимости Composer  
 &nbsp;&nbsp;&nbsp;&nbsp;├─ .gitignore  
 &nbsp;&nbsp;&nbsp;&nbsp;├─ composer.json       # Настройки Composer и автозагрузки (PSR-4)  
 &nbsp;&nbsp;&nbsp;&nbsp;├─ composer.lock  
 &nbsp;&nbsp;&nbsp;&nbsp;└─ README.md           # Документация проекта

Автор  
SakatoGin(Chumakov VA)